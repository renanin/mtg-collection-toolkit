md-card.trade-list
  md-card-header
    .md-title {{label}}
    .md-subhead ${{getTotalPrice()}}
  md-card-content
    template(v-if="isEditable")
      md-button(@click="addCard()") Add Card
      md-button(@click="addCash()") Add Cash
    md-table.card-list
      md-table-header
        md-table-row
          md-table-head Name
          md-table-head Set
          md-table-head Price
      md-table-body
        md-table-row(v-for="(card, key) in cards",:key="key")
          md-table-cell
            template(v-if="isEditable")
              i(v-if="isCash(card)") Cash
              md-input-container(v-else)
                label Card Name
                md-autocomplete(v-model="card.name",:fetch="autocomplete",@selected="getPrintings(card)")
            template(v-else)
              i(v-if="isCash(card)") Cash
              template(v-else) {{card.name}}
          md-table-cell
            template(v-if="isEditable")
              md-input-container(v-if="isCash(card)")
                label Amount
                md-input(type="number",v-model="card.amount",@input="updatePrice(card)")
              md-input-container(v-else)
                label Set
                md-select(v-model="card.printing",@selected="updatePrice(card)")
                  md-option(v-for="(printing, key) in card.printings",:key="key",:value="printing.set") {{printing.set}}
            template(v-else)
              template(v-if="isCash(card)") ${{card.amount}}
              template(v-else) {{card.printing}}
          md-table-cell ${{card.price}}
  md-card-actions
    md-button.md-raised.md-primary.md-icon-button(v-if="!editable",@click="toggleEditable()")
      md-icon(v-if="isEditable") check
      md-icon(v-else) edit
